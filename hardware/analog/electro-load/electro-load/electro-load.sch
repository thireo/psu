EESchema Schematic File Version 4
EELAYER 30 0
EELAYER END
$Descr A4 11693 8268
encoding utf-8
Sheet 1 5
Title ""
Date ""
Rev ""
Comp ""
Comment1 ""
Comment2 ""
Comment3 ""
Comment4 ""
$EndDescr
$Comp
L MCU_Microchip_ATmega:ATmega328P-AU U1
U 1 1 5E726E75
P 2000 5475
F 0 "U1" H 2450 4025 50  0000 C CNN
F 1 "ATmega328P-AU" H 1550 4025 50  0000 C CNN
F 2 "Package_QFP:TQFP-32_7x7mm_P0.8mm" H 2000 5475 50  0001 C CIN
F 3 "http://ww1.microchip.com/downloads/en/DeviceDoc/ATmega328_P%20AVR%20MCU%20with%20picoPower%20Technology%20Data%20Sheet%2040001984A.pdf" H 2000 5475 50  0001 C CNN
	1    2000 5475
	1    0    0    -1  
$EndComp
$Comp
L dk_Data-Acquisition-Digital-to-Analog-Converters-DAC:MCP4725A0T-E_CH U2
U 1 1 5E72B314
P 3975 1875
F 0 "U2" H 4419 1928 60  0000 L CNN
F 1 "MCP4725A0T-E_CH" H 4225 1650 60  0000 L CNN
F 2 "digikey-footprints:SOT-23-6" H 4175 2075 60  0001 L CNN
F 3 "http://www.microchip.com/mymicrochip/filehandler.aspx?ddocname=en532676" H 4175 2175 60  0001 L CNN
F 4 "MCP4725A0T-E/CHCT-ND" H 4175 2275 60  0001 L CNN "Digi-Key_PN"
F 5 "MCP4725A0T-E/CH" H 4175 2375 60  0001 L CNN "MPN"
F 6 "Integrated Circuits (ICs)" H 4175 2475 60  0001 L CNN "Category"
F 7 "Data Acquisition - Digital to Analog Converters (DAC)" H 4175 2575 60  0001 L CNN "Family"
F 8 "http://www.microchip.com/mymicrochip/filehandler.aspx?ddocname=en532676" H 4175 2675 60  0001 L CNN "DK_Datasheet_Link"
F 9 "/product-detail/en/microchip-technology/MCP4725A0T-E-CH/MCP4725A0T-E-CHCT-ND/1817328" H 4175 2775 60  0001 L CNN "DK_Detail_Page"
F 10 "IC DAC 12BIT W/I2C SOT23A-6" H 4175 2875 60  0001 L CNN "Description"
F 11 "Microchip Technology" H 4175 2975 60  0001 L CNN "Manufacturer"
F 12 "Active" H 4175 3075 60  0001 L CNN "Status"
	1    3975 1875
	1    0    0    -1  
$EndComp
$Comp
L Device:C_Small C3
U 1 1 5E7324B2
P 2400 3750
F 0 "C3" H 2492 3796 50  0000 L CNN
F 1 "100n" H 2492 3705 50  0000 L CNN
F 2 "Capacitor_SMD:C_0603_1608Metric" H 2400 3750 50  0001 C CNN
F 3 "~" H 2400 3750 50  0001 C CNN
	1    2400 3750
	1    0    0    -1  
$EndComp
$Comp
L Device:C_Small C4
U 1 1 5E732906
P 2700 3875
F 0 "C4" H 2792 3921 50  0000 L CNN
F 1 "10u" H 2792 3830 50  0000 L CNN
F 2 "Capacitor_SMD:C_0603_1608Metric" H 2700 3875 50  0001 C CNN
F 3 "~" H 2700 3875 50  0001 C CNN
	1    2700 3875
	1    0    0    -1  
$EndComp
Wire Wire Line
	2700 3975 2700 4000
Wire Wire Line
	2700 4000 2600 4000
Wire Wire Line
	2400 4000 2400 3850
Wire Wire Line
	2700 3775 2700 3600
Wire Wire Line
	2700 3600 2400 3600
Wire Wire Line
	2400 3600 2400 3650
Wire Wire Line
	2400 3600 2100 3600
Wire Wire Line
	2100 3600 2100 3900
Connection ~ 2400 3600
Wire Wire Line
	2100 3900 2000 3900
Wire Wire Line
	2000 3900 2000 3975
Connection ~ 2100 3900
Wire Wire Line
	2100 3900 2100 3975
$Comp
L power:GND #PWR04
U 1 1 5E73AAEC
P 2600 4000
F 0 "#PWR04" H 2600 3750 50  0001 C CNN
F 1 "GND" H 2605 3827 50  0000 C CNN
F 2 "" H 2600 4000 50  0001 C CNN
F 3 "" H 2600 4000 50  0001 C CNN
	1    2600 4000
	1    0    0    -1  
$EndComp
$Comp
L power:+5V #PWR05
U 1 1 5E73E0D1
P 2700 3550
F 0 "#PWR05" H 2700 3400 50  0001 C CNN
F 1 "+5V" H 2715 3723 50  0000 C CNN
F 2 "" H 2700 3550 50  0001 C CNN
F 3 "" H 2700 3550 50  0001 C CNN
	1    2700 3550
	1    0    0    -1  
$EndComp
Wire Wire Line
	2700 3550 2700 3600
Connection ~ 2700 3600
$Comp
L Device:C_Small C2
U 1 1 5E748331
P 1100 4425
F 0 "C2" H 1192 4471 50  0000 L CNN
F 1 "100n" H 1192 4380 50  0000 L CNN
F 2 "Capacitor_SMD:C_0603_1608Metric" H 1100 4425 50  0001 C CNN
F 3 "~" H 1100 4425 50  0001 C CNN
	1    1100 4425
	-1   0    0    -1  
$EndComp
$Comp
L Device:C_Small C1
U 1 1 5E74833B
P 800 4550
F 0 "C1" H 892 4596 50  0000 L CNN
F 1 "10u" H 892 4505 50  0000 L CNN
F 2 "Capacitor_SMD:C_0603_1608Metric" H 800 4550 50  0001 C CNN
F 3 "~" H 800 4550 50  0001 C CNN
	1    800  4550
	-1   0    0    -1  
$EndComp
Wire Wire Line
	800  4450 800  4275
Wire Wire Line
	800  4275 1100 4275
Wire Wire Line
	1100 4275 1100 4325
Wire Wire Line
	1100 4275 1400 4275
Connection ~ 1100 4275
$Comp
L power:+5V #PWR01
U 1 1 5E74834B
P 800 4225
F 0 "#PWR01" H 800 4075 50  0001 C CNN
F 1 "+5V" H 815 4398 50  0000 C CNN
F 2 "" H 800 4225 50  0001 C CNN
F 3 "" H 800 4225 50  0001 C CNN
	1    800  4225
	-1   0    0    -1  
$EndComp
Wire Wire Line
	800  4225 800  4275
Connection ~ 800  4275
$Comp
L power:GND #PWR02
U 1 1 5E755EA5
P 925 4750
F 0 "#PWR02" H 925 4500 50  0001 C CNN
F 1 "GND" H 930 4577 50  0000 C CNN
F 2 "" H 925 4750 50  0001 C CNN
F 3 "" H 925 4750 50  0001 C CNN
	1    925  4750
	1    0    0    -1  
$EndComp
Wire Wire Line
	800  4700 800  4650
Wire Wire Line
	1100 4525 1100 4700
Wire Wire Line
	800  4700 925  4700
Wire Wire Line
	925  4750 925  4700
Connection ~ 925  4700
Wire Wire Line
	925  4700 1100 4700
$Comp
L power:GND #PWR03
U 1 1 5E769077
P 2000 7025
F 0 "#PWR03" H 2000 6775 50  0001 C CNN
F 1 "GND" H 2005 6852 50  0000 C CNN
F 2 "" H 2000 7025 50  0001 C CNN
F 3 "" H 2000 7025 50  0001 C CNN
	1    2000 7025
	1    0    0    -1  
$EndComp
Wire Wire Line
	2000 7025 2000 6975
Text Label 2600 4475 0    50   ~ 0
RELAY_EN
Text Label 2600 5475 0    50   ~ 0
TEMP_0
Text Label 2600 5375 0    50   ~ 0
TEMP_1
Text Label 2600 5175 0    50   ~ 0
CUR_MEAS
Text Label 4425 1875 0    50   ~ 0
CUR_SET
Wire Wire Line
	4425 1875 4375 1875
$Comp
L power:GND #PWR09
U 1 1 5E796A9B
P 3975 2325
F 0 "#PWR09" H 3975 2075 50  0001 C CNN
F 1 "GND" H 3980 2152 50  0000 C CNN
F 2 "" H 3975 2325 50  0001 C CNN
F 3 "" H 3975 2325 50  0001 C CNN
	1    3975 2325
	1    0    0    -1  
$EndComp
$Comp
L Device:C_Small C6
U 1 1 5E7A0225
P 4375 1375
F 0 "C6" H 4467 1421 50  0000 L CNN
F 1 "100n" H 4467 1330 50  0000 L CNN
F 2 "Capacitor_SMD:C_0603_1608Metric" H 4375 1375 50  0001 C CNN
F 3 "~" H 4375 1375 50  0001 C CNN
	1    4375 1375
	1    0    0    -1  
$EndComp
$Comp
L Device:C_Small C7
U 1 1 5E7A022F
P 4675 1475
F 0 "C7" H 4767 1521 50  0000 L CNN
F 1 "10u" H 4767 1430 50  0000 L CNN
F 2 "Capacitor_SMD:C_0603_1608Metric" H 4675 1475 50  0001 C CNN
F 3 "~" H 4675 1475 50  0001 C CNN
	1    4675 1475
	1    0    0    -1  
$EndComp
Wire Wire Line
	4375 1600 4375 1475
Wire Wire Line
	4675 1375 4675 1250
Wire Wire Line
	4675 1250 4375 1250
Wire Wire Line
	4375 1250 4375 1275
Connection ~ 4375 1250
$Comp
L power:+5V #PWR011
U 1 1 5E7A023F
P 4675 1200
F 0 "#PWR011" H 4675 1050 50  0001 C CNN
F 1 "+5V" H 4690 1373 50  0000 C CNN
F 2 "" H 4675 1200 50  0001 C CNN
F 3 "" H 4675 1200 50  0001 C CNN
	1    4675 1200
	1    0    0    -1  
$EndComp
Wire Wire Line
	4675 1200 4675 1250
Connection ~ 4675 1250
Wire Wire Line
	3975 1250 3975 1475
Wire Wire Line
	3975 1250 4375 1250
Wire Wire Line
	4375 1600 4525 1600
Wire Wire Line
	4675 1600 4675 1575
$Comp
L power:GND #PWR010
U 1 1 5E7C28A2
P 4525 1600
F 0 "#PWR010" H 4525 1350 50  0001 C CNN
F 1 "GND" H 4530 1427 50  0000 C CNN
F 2 "" H 4525 1600 50  0001 C CNN
F 3 "" H 4525 1600 50  0001 C CNN
	1    4525 1600
	1    0    0    -1  
$EndComp
Connection ~ 4525 1600
Wire Wire Line
	4525 1600 4675 1600
Wire Wire Line
	3475 1975 3425 1975
Wire Wire Line
	3425 1975 3425 2300
Wire Wire Line
	3425 2300 3975 2300
Wire Wire Line
	3975 2275 3975 2300
Connection ~ 3975 2300
Wire Wire Line
	3975 2300 3975 2325
$Comp
L Device:R_Small R3
U 1 1 5E807C49
P 3400 1450
F 0 "R3" H 3341 1404 50  0000 R CNN
F 1 "4k7" H 3341 1495 50  0000 R CNN
F 2 "Resistor_SMD:R_0603_1608Metric" H 3400 1450 50  0001 C CNN
F 3 "~" H 3400 1450 50  0001 C CNN
	1    3400 1450
	-1   0    0    1   
$EndComp
$Comp
L Device:R_Small R2
U 1 1 5E808A9A
P 3150 1450
F 0 "R2" H 3091 1404 50  0000 R CNN
F 1 "4k7" H 3091 1495 50  0000 R CNN
F 2 "Resistor_SMD:R_0603_1608Metric" H 3150 1450 50  0001 C CNN
F 3 "~" H 3150 1450 50  0001 C CNN
	1    3150 1450
	-1   0    0    1   
$EndComp
Wire Wire Line
	3150 1550 3150 1875
Wire Wire Line
	3150 1875 3475 1875
Wire Wire Line
	3400 1550 3400 1775
Wire Wire Line
	3400 1775 3475 1775
$Comp
L power:+5V #PWR08
U 1 1 5E82E1AD
P 3275 1225
F 0 "#PWR08" H 3275 1075 50  0001 C CNN
F 1 "+5V" H 3290 1398 50  0000 C CNN
F 2 "" H 3275 1225 50  0001 C CNN
F 3 "" H 3275 1225 50  0001 C CNN
	1    3275 1225
	1    0    0    -1  
$EndComp
Wire Wire Line
	3275 1225 3275 1275
Wire Wire Line
	3275 1275 3400 1275
Wire Wire Line
	3400 1275 3400 1350
Wire Wire Line
	3275 1275 3150 1275
Wire Wire Line
	3150 1275 3150 1350
Connection ~ 3275 1275
Text Label 3400 1775 2    50   ~ 0
SDA
Text Label 3150 1875 2    50   ~ 0
SCL
NoConn ~ 1400 4475
NoConn ~ 1400 4575
Text Label 2600 5575 0    50   ~ 0
SDA
Text Label 2600 5675 0    50   ~ 0
SCL
$Comp
L Device:R_Small R1
U 1 1 5E85B88D
P 3100 5600
F 0 "R1" H 3159 5646 50  0000 L CNN
F 1 "10k" H 3159 5555 50  0000 L CNN
F 2 "Resistor_SMD:R_0603_1608Metric" H 3100 5600 50  0001 C CNN
F 3 "~" H 3100 5600 50  0001 C CNN
	1    3100 5600
	1    0    0    -1  
$EndComp
Wire Wire Line
	3100 5700 3100 5775
Wire Wire Line
	3100 5775 2600 5775
$Comp
L power:+5V #PWR06
U 1 1 5E864576
P 3100 5425
F 0 "#PWR06" H 3100 5275 50  0001 C CNN
F 1 "+5V" H 3115 5598 50  0000 C CNN
F 2 "" H 3100 5425 50  0001 C CNN
F 3 "" H 3100 5425 50  0001 C CNN
	1    3100 5425
	1    0    0    -1  
$EndComp
Wire Wire Line
	3100 5425 3100 5500
$Comp
L Device:C_Small C5
U 1 1 5E86CAA0
P 3100 5925
F 0 "C5" H 3192 5971 50  0000 L CNN
F 1 "10u" H 3192 5880 50  0000 L CNN
F 2 "Capacitor_SMD:C_0603_1608Metric" H 3100 5925 50  0001 C CNN
F 3 "~" H 3100 5925 50  0001 C CNN
	1    3100 5925
	1    0    0    -1  
$EndComp
Wire Wire Line
	3100 5825 3100 5775
Connection ~ 3100 5775
$Comp
L power:GND #PWR07
U 1 1 5E875863
P 3100 6075
F 0 "#PWR07" H 3100 5825 50  0001 C CNN
F 1 "GND" H 3105 5902 50  0000 C CNN
F 2 "" H 3100 6075 50  0001 C CNN
F 3 "" H 3100 6075 50  0001 C CNN
	1    3100 6075
	1    0    0    -1  
$EndComp
Wire Wire Line
	3100 6075 3100 6050
$Comp
L Switch:SW_Push SW1
U 1 1 5E87E97B
P 3450 5775
F 0 "SW1" H 3450 5590 50  0000 C CNN
F 1 "RESET" H 3450 5681 50  0000 C CNN
F 2 "" H 3450 5975 50  0001 C CNN
F 3 "~" H 3450 5975 50  0001 C CNN
	1    3450 5775
	-1   0    0    1   
$EndComp
Wire Wire Line
	3250 5775 3100 5775
Wire Wire Line
	3650 5775 3700 5775
Wire Wire Line
	3700 5775 3700 6050
Wire Wire Line
	3700 6050 3100 6050
Connection ~ 3100 6050
Wire Wire Line
	3100 6050 3100 6025
Text Label 2600 4375 0    50   ~ 0
FAN_PWM
Text Label 2600 4275 0    50   ~ 0
FAN_RPM
Connection ~ 2600 4000
Wire Wire Line
	2600 4000 2400 4000
Text Label 8750 5500 0    50   ~ 0
MOSI
Text Label 8750 5700 0    50   ~ 0
~RESET
Text Label 8750 5600 0    50   ~ 0
SCK
Text Label 8750 5400 0    50   ~ 0
MISO
$Comp
L power:+5V #PWR012
U 1 1 5E81DCEE
P 8250 5050
F 0 "#PWR012" H 8250 4900 50  0001 C CNN
F 1 "+5V" H 8265 5223 50  0000 C CNN
F 2 "" H 8250 5050 50  0001 C CNN
F 3 "" H 8250 5050 50  0001 C CNN
	1    8250 5050
	1    0    0    -1  
$EndComp
$Comp
L power:GND #PWR013
U 1 1 5E8275B7
P 8250 6075
F 0 "#PWR013" H 8250 5825 50  0001 C CNN
F 1 "GND" H 8255 5902 50  0000 C CNN
F 2 "" H 8250 6075 50  0001 C CNN
F 3 "" H 8250 6075 50  0001 C CNN
	1    8250 6075
	1    0    0    -1  
$EndComp
$Comp
L Connector:AVR-ISP-10 J1
U 1 1 5E855F65
P 8350 5600
F 0 "J1" H 8070 5696 50  0000 R CNN
F 1 "AVR-ISP-10" H 8070 5605 50  0000 R CNN
F 2 "Connector_PinHeader_2.54mm:PinHeader_2x05_P2.54mm_Vertical" V 8100 5650 50  0001 C CNN
F 3 " ~" H 7075 5050 50  0001 C CNN
	1    8350 5600
	1    0    0    -1  
$EndComp
Wire Wire Line
	8250 6075 8250 6000
Wire Wire Line
	8250 5050 8250 5100
Text Label 2600 4575 0    50   ~ 0
MOSI
Text Label 2800 5775 0    50   ~ 0
~RESET
Text Label 2600 4775 0    50   ~ 0
SCK
Text Label 2600 4675 0    50   ~ 0
MISO
$Comp
L Connector:TestPoint TP2
U 1 1 5E99A583
P 2100 3500
F 0 "TP2" H 2158 3618 50  0000 L CNN
F 1 "TestPoint" H 2158 3527 50  0000 L CNN
F 2 "athir:testpoint_probe" H 2300 3500 50  0001 C CNN
F 3 "~" H 2300 3500 50  0001 C CNN
	1    2100 3500
	1    0    0    -1  
$EndComp
Wire Wire Line
	2100 3500 2100 3600
Connection ~ 2100 3600
$Comp
L Connector:TestPoint TP1
U 1 1 5E9A7122
P 1100 4150
F 0 "TP1" H 1158 4268 50  0000 L CNN
F 1 "TestPoint" H 1158 4177 50  0000 L CNN
F 2 "athir:testpoint_probe" H 1300 4150 50  0001 C CNN
F 3 "~" H 1300 4150 50  0001 C CNN
	1    1100 4150
	1    0    0    -1  
$EndComp
Wire Wire Line
	1100 4150 1100 4275
$Comp
L Connector:TestPoint TP3
U 1 1 5E9DB920
P 3975 1150
F 0 "TP3" H 4033 1268 50  0000 L CNN
F 1 "TestPoint" H 4033 1177 50  0000 L CNN
F 2 "athir:testpoint_probe" H 4175 1150 50  0001 C CNN
F 3 "~" H 4175 1150 50  0001 C CNN
	1    3975 1150
	1    0    0    -1  
$EndComp
Wire Wire Line
	3975 1150 3975 1250
Connection ~ 3975 1250
$Sheet
S 4650 6100 700  525 
U 5E8D69C1
F0 "Power" 50
F1 "power.sch" 50
$EndSheet
Text Label 2600 6275 0    50   ~ 0
LCD_RS
Text Label 2600 6175 0    50   ~ 0
LCD_RW
Text Label 2600 6075 0    50   ~ 0
LCD_EN
Text Label 2600 6475 0    50   ~ 0
LCD_DB7
Text Label 2600 6575 0    50   ~ 0
LCD_DB6
Text Label 2600 6675 0    50   ~ 0
LCD_DB5
Text Label 2600 6375 0    50   ~ 0
LCD_DB4
$Sheet
S 5200 4125 1025 200 
U 5E789C0B
F0 "Temperature Control" 50
F1 "tempctl.sch" 50
F2 "TEMP_1" I L 5200 4250 50 
F3 "TEMP_0" I L 5200 4175 50 
F4 "FAN_RPM" I R 6225 4175 50 
F5 "FAN_PWM" I R 6225 4250 50 
$EndSheet
$Sheet
S 5300 5000 875  575 
U 5E7EC7EF
F0 "UI" 50
F1 "ui.sch" 50
F2 "LCD_RS" I L 5300 5050 50 
F3 "LCD_RW" I L 5300 5125 50 
F4 "LCD_EN" I L 5300 5200 50 
F5 "LCD_DB4" I L 5300 5275 50 
F6 "LCD_DB5" I L 5300 5350 50 
F7 "LCD_DB6" I L 5300 5425 50 
F8 "LCD_DB7" I L 5300 5500 50 
F9 "ROT_SW" I R 6175 5050 50 
F10 "ROT_A" I R 6175 5125 50 
F11 "ROT_B" I R 6175 5200 50 
$EndSheet
$Sheet
S 6850 1950 1075 275 
U 5E82E2D2
F0 "Current Measurements" 50
F1 "current.sch" 50
F2 "V_MEAS" I R 7925 2025 50 
F3 "CUR_MEAS" I L 6850 2025 50 
F4 "CUR_SET" I L 6850 2125 50 
F5 "RELAY_EN" I R 7925 2125 50 
$EndSheet
Text Label 5300 5050 2    50   ~ 0
LCD_RS
Text Label 5300 5125 2    50   ~ 0
LCD_RW
Text Label 5300 5200 2    50   ~ 0
LCD_EN
Text Label 5300 5500 2    50   ~ 0
LCD_DB7
Text Label 5300 5425 2    50   ~ 0
LCD_DB6
Text Label 5300 5350 2    50   ~ 0
LCD_DB5
Text Label 5300 5275 2    50   ~ 0
LCD_DB4
Text Label 5200 4250 2    50   ~ 0
TEMP_1
Text Label 5200 4175 2    50   ~ 0
TEMP_0
Text Label 6225 4250 0    50   ~ 0
FAN_PWM
Text Label 6225 4175 0    50   ~ 0
FAN_RPM
Text Label 7925 2125 0    50   ~ 0
RELAY_EN
Text Label 6850 2025 2    50   ~ 0
CUR_MEAS
Text Label 6850 2125 2    50   ~ 0
CUR_SET
Text Label 2600 5275 0    50   ~ 0
V_MEAS
Text Label 7925 2025 0    50   ~ 0
V_MEAS
Text Label 6175 5050 0    50   ~ 0
ROT_SW
Text Label 6175 5125 0    50   ~ 0
ROT_A
Text Label 6175 5200 0    50   ~ 0
ROT_B
Text Label 2600 5975 0    50   ~ 0
ROT_SW
Text Label 2600 4875 0    50   ~ 0
ROT_A
Text Label 2600 4975 0    50   ~ 0
ROT_B
Text Notes 3050 6525 0    50   ~ 0
OBS
$EndSCHEMATC
